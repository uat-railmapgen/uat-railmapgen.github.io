import{F as an,u as qe,a as Mt,s as on,b as pe,c as sn,E as Oe,o as un,d as ln,t as zt,g as cn,m as ct,e as fn}from"./index.3b69f398.js";import{_ as pn,r as k,l as $,m as b,V as _t,j as p,I as gn,H as ge,T as Y,B as Qe,o as hn,p as dn,q as mn,s as vn,f as I,t as Je,v as yn,w as bn,x as On,y as Be,M as wn,z as xn,A as Ne,D as Sn,E as ft,F as Xe,G as Ze,J as et,K as tt,L as Cn,N as nt,O as rt,Q as at,S as q,U as En,W as kn,X as Ht,Y as Pn,Z as ue,$ as L,a0 as T,a1 as ke,a2 as Pe,a3 as le,e as Ve,a4 as jn,a5 as Fn,a6 as Rn,a7 as Nn,a8 as An}from"./vendor.9afbf876.js";function $t(n,t){if(n==null)return{};var r=pn(n,t),a,e;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(e=0;e<i.length;e++)a=i[e],!(t.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,a)||(r[a]=n[a]))}return r}function z(n){return z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(n)}var Ln={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Tn=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function pt(n){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=n.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(Ln[r[1]]||n.charAt(n.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var a=n.indexOf("-->");return{type:"comment",comment:a!==-1?n.slice(4,a):""}}for(var e=new RegExp(Tn),i=null;(i=e.exec(n))!==null;)if(i[0].trim())if(i[1]){var o=i[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),t.attrs[s[0]]=s[1],e.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var Dn=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Bn=/^\s*$/,In=Object.create(null);function Vt(n,t){switch(t.type){case"text":return n+t.content;case"tag":return n+="<"+t.name+(t.attrs?function(r){var a=[];for(var e in r)a.push(e+'="'+r[e]+'"');return a.length?" "+a.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?n:n+t.children.reduce(Vt,"")+"</"+t.name+">";case"comment":return n+"<!--"+t.comment+"-->"}}var Mn={parse:function(n,t){t||(t={}),t.components||(t.components=In);var r,a=[],e=[],i=-1,o=!1;if(n.indexOf("<")!==0){var s=n.indexOf("<");a.push({type:"text",content:s===-1?n:n.substring(0,s)})}return n.replace(Dn,function(u,c){if(o){if(u!=="</"+r.name+">")return;o=!1}var f,l=u.charAt(1)!=="/",g=u.startsWith("<!--"),h=c+u.length,y=n.charAt(h);if(g){var x=pt(u);return i<0?(a.push(x),a):((f=e[i]).children.push(x),a)}if(l&&(i++,(r=pt(u)).type==="tag"&&t.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!y||y==="<"||r.children.push({type:"text",content:n.slice(h,n.indexOf("<",h))}),i===0&&a.push(r),(f=e[i-1])&&f.children.push(r),e[i]=r),(!l||r.voidElement)&&(i>-1&&(r.voidElement||r.name===u.slice(2,-1))&&(i--,r=i===-1?a:e[i]),!o&&y!=="<"&&y)){f=i===-1?a:e[i].children;var v=n.indexOf("<",h),m=n.slice(h,v===-1?void 0:v);Bn.test(m)&&(m=" "),(v>-1&&i+f.length>=0||m!==" ")&&f.push({type:"text",content:m})}}),a},stringify:function(n){return n.reduce(function(t,r){return t+Vt("",r)},"")}};function V(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(n,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function U(n,t,r){return t&&gt(n.prototype,t),r&&gt(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}var zn=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,_n={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xA9","&#169;":"\xA9","&reg;":"\xAE","&#174;":"\xAE","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},Hn=function(t){return _n[t]},$n=function(t){return t.replace(zn,Hn)};function ht(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function dt(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ht(Object(r),!0).forEach(function(a){$(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}var Ye={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:$n},Ut,Kt=k.exports.createContext();function Vn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ye=dt(dt({},Ye),n)}function Wt(){return Ye}var Un=function(){function n(){V(this,n),this.usedNamespaces={}}return U(n,[{key:"addUsedNamespaces",value:function(r){var a=this;r.forEach(function(e){a.usedNamespaces[e]||(a.usedNamespaces[e]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),n}();function Kn(n){Ut=n}function Gt(){return Ut}var Wn={type:"3rdParty",init:function(t){Vn(t.options.react),Kn(t)}};function Re(){if(console&&console.warn){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(n=console).warn.apply(n,r)}}var mt={};function Ae(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];typeof t[0]=="string"&&mt[t[0]]||(typeof t[0]=="string"&&(mt[t[0]]=new Date),Re.apply(void 0,t))}function vt(n,t,r){n.loadNamespaces(t,function(){if(n.isInitialized)r();else{var a=function e(){setTimeout(function(){n.off("initialized",e)},0),r()};n.on("initialized",a)}})}function Gn(n,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=t.languages[0],e=t.options?t.options.fallbackLng:!1,i=t.languages[t.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var o=function(u,c){var f=t.services.backendConnector.state["".concat(u,"|").concat(c)];return f===-1||f===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,n)?!1:!!(t.hasResourceBundle(a,n)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||o(a,n)&&(!e||o(i,n)))}function Jn(n,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t.languages||!t.languages.length)return Ae("i18n.languages were undefined or empty",t.languages),!0;var a=t.options.ignoreJSONStructure!==void 0;return a?t.hasLoadedNamespace(n,{precheck:function(i,o){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,n))return!1}}):Gn(n,t,r)}var Yn=["format"],qn=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function yt(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function N(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yt(Object(r),!0).forEach(function(a){$(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):yt(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function Ue(n,t){if(!n)return!1;var r=n.props?n.props.children:n.children;return t?r.length>0:!!r}function Ke(n){return n?n.props?n.props.children:n.children:[]}function Qn(n){return Object.prototype.toString.call(n)!=="[object Array]"?!1:n.every(function(t){return k.exports.isValidElement(t)})}function be(n){return Array.isArray(n)?n:[n]}function Xn(n,t){var r=N({},t);return r.props=Object.assign(n.props,t.props),r}function Jt(n,t){if(!n)return"";var r="",a=be(n),e=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return a.forEach(function(i,o){if(typeof i=="string")r+="".concat(i);else if(k.exports.isValidElement(i)){var s=Object.keys(i.props).length,u=e.indexOf(i.type)>-1,c=i.props.children;if(!c&&u&&s===0)r+="<".concat(i.type,"/>");else if(!c&&(!u||s!==0))r+="<".concat(o,"></").concat(o,">");else if(i.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(u&&s===1&&typeof c=="string")r+="<".concat(i.type,">").concat(c,"</").concat(i.type,">");else{var f=Jt(c,t);r+="<".concat(o,">").concat(f,"</").concat(o,">")}}else if(i===null)Re("Trans: the passed in value is invalid - seems you passed in a null child.");else if(z(i)==="object"){var l=i.format,g=$t(i,Yn),h=Object.keys(g);if(h.length===1){var y=l?"".concat(h[0],", ").concat(l):h[0];r+="{{".concat(y,"}}")}else Re("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",i)}else Re("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",i)}),r}function Zn(n,t,r,a,e,i){if(t==="")return[];var o=a.transKeepBasicHtmlNodesFor||[],s=t&&new RegExp(o.join("|")).test(t);if(!n&&!s)return[t];var u={};function c(v){var m=be(v);m.forEach(function(d){typeof d!="string"&&(Ue(d)?c(Ke(d)):z(d)==="object"&&!k.exports.isValidElement(d)&&Object.assign(u,d))})}c(n);var f=Mn.parse("<0>".concat(t,"</0>")),l=N(N({},u),e);function g(v,m,d){var w=Ke(v),S=y(w,m.children,d);return Qn(w)&&S.length===0?w:S}function h(v,m,d,w,S){v.dummy&&(v.children=m),d.push(k.exports.cloneElement(v,N(N({},v.props),{},{key:w}),S?void 0:m))}function y(v,m,d){var w=be(v),S=be(m);return S.reduce(function(C,O,P){var F=O.children&&O.children[0]&&O.children[0].content&&r.services.interpolator.interpolate(O.children[0].content,l,r.language);if(O.type==="tag"){var j=w[parseInt(O.name,10)];!j&&d.length===1&&d[0][O.name]&&(j=d[0][O.name]),j||(j={});var E=Object.keys(O.attrs).length!==0?Xn({props:O.attrs},j):j,M=k.exports.isValidElement(E),Q=M&&Ue(O,!0)&&!O.voidElement,ae=s&&z(E)==="object"&&E.dummy&&!M,_=z(n)==="object"&&n!==null&&Object.hasOwnProperty.call(n,O.name);if(typeof E=="string"){var ie=r.services.interpolator.interpolate(E,l,r.language);C.push(ie)}else if(Ue(E)||Q){var oe=g(E,O,d);h(E,oe,C,P)}else if(ae){var re=y(w,O.children,d);C.push(k.exports.cloneElement(E,N(N({},E.props),{},{key:P}),re))}else if(Number.isNaN(parseFloat(O.name)))if(_){var xe=g(E,O,d);h(E,xe,C,P,O.voidElement)}else if(a.transSupportBasicHtmlNodes&&o.indexOf(O.name)>-1)if(O.voidElement)C.push(k.exports.createElement(O.name,{key:"".concat(O.name,"-").concat(P)}));else{var de=y(w,O.children,d);C.push(k.exports.createElement(O.name,{key:"".concat(O.name,"-").concat(P)},de))}else if(O.voidElement)C.push("<".concat(O.name," />"));else{var ze=y(w,O.children,d);C.push("<".concat(O.name,">").concat(ze,"</").concat(O.name,">"))}else if(z(E)==="object"&&!M){var X=O.children[0]?F:null;X&&C.push(X)}else O.children.length===1&&F?C.push(k.exports.cloneElement(E,N(N({},E.props),{},{key:P}),F)):C.push(k.exports.cloneElement(E,N(N({},E.props),{},{key:P})))}else if(O.type==="text"){var Se=a.transWrapTextNodes,Ce=i?a.unescape(r.services.interpolator.interpolate(O.content,l,r.language)):r.services.interpolator.interpolate(O.content,l,r.language);Se?C.push(k.exports.createElement(Se,{key:"".concat(O.name,"-").concat(P)},Ce)):C.push(Ce)}return C},[])}var x=y([{dummy:!0,children:n||[]}],f,be(n||[]));return Ke(x[0])}function er(n){var t=n.children,r=n.count,a=n.parent,e=n.i18nKey,i=n.context,o=n.tOptions,s=o===void 0?{}:o,u=n.values,c=n.defaults,f=n.components,l=n.ns,g=n.i18n,h=n.t,y=n.shouldUnescape,x=$t(n,qn),v=k.exports.useContext(Kt)||{},m=v.i18n,d=v.defaultNS,w=g||m||Gt();if(!w)return Ae("You will need to pass in an i18next instance by using i18nextReactModule"),t;var S=h||w.t.bind(w)||function(ie){return ie};i&&(s.context=i);var C=N(N({},Wt()),w.options&&w.options.react),O=l||S.ns||d||w.options&&w.options.defaultNS;O=typeof O=="string"?[O]:O||["translation"];var P=c||Jt(t,C)||C.transEmptyNodeValue||e,F=C.hashTransKey,j=e||(F?F(P):P),E=u?s.interpolation:{interpolation:N(N({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},M=N(N(N(N({},s),{},{count:r},u),E),{},{defaultValue:P,ns:O}),Q=j?S(j,M):P,ae=Zn(f||t,Q,w,C,M,y),_=a!==void 0?a:C.defaultTransParent;return _?k.exports.createElement(_,x,ae):ae}function Yt(n){if(Array.isArray(n))return n}function tr(n,t){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var a=[],e=!0,i=!1,o,s;try{for(r=r.call(n);!(e=(o=r.next()).done)&&(a.push(o.value),!(t&&a.length===t));e=!0);}catch(u){i=!0,s=u}finally{try{!e&&r.return!=null&&r.return()}finally{if(i)throw s}}return a}}function bt(n,t){(t==null||t>n.length)&&(t=n.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=n[r];return a}function qt(n,t){if(!!n){if(typeof n=="string")return bt(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bt(n,t)}}function Qt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nr(n,t){return Yt(n)||tr(n,t)||qt(n,t)||Qt()}function Ot(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function We(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ot(Object(r),!0).forEach(function(a){$(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}var rr=function(t,r){var a=k.exports.useRef();return k.exports.useEffect(function(){a.current=r?a.current:t},[t,r]),a.current};function K(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.i18n,a=k.exports.useContext(Kt)||{},e=a.i18n,i=a.defaultNS,o=r||e||Gt();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new Un),!o){Ae("You will need to pass in an i18next instance by using initReactI18next");var s=function(j){return Array.isArray(j)?j[j.length-1]:j},u=[s,{},!1];return u.t=s,u.i18n={},u.ready=!1,u}o.options.react&&o.options.react.wait!==void 0&&Ae("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=We(We(We({},Wt()),o.options.react),t),f=c.useSuspense,l=c.keyPrefix,g=n||i||o.options&&o.options.defaultNS;g=typeof g=="string"?[g]:g||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(g);var h=(o.isInitialized||o.initializedStoreOnce)&&g.every(function(F){return Jn(F,o,c)});function y(){return o.getFixedT(null,c.nsMode==="fallback"?g:g[0],l)}var x=k.exports.useState(y),v=nr(x,2),m=v[0],d=v[1],w=g.join(),S=rr(w),C=k.exports.useRef(!0);k.exports.useEffect(function(){var F=c.bindI18n,j=c.bindI18nStore;C.current=!0,!h&&!f&&vt(o,g,function(){C.current&&d(y)}),h&&S&&S!==w&&C.current&&d(y);function E(){C.current&&d(y)}return F&&o&&o.on(F,E),j&&o&&o.store.on(j,E),function(){C.current=!1,F&&o&&F.split(" ").forEach(function(M){return o.off(M,E)}),j&&o&&j.split(" ").forEach(function(M){return o.store.off(M,E)})}},[o,w]);var O=k.exports.useRef(!0);k.exports.useEffect(function(){C.current&&!O.current&&d(y),O.current=!1},[o,l]);var P=[m,o,h];if(P.t=m,P.i18n=o,P.ready=h,h||!h&&!f)return P;throw new Promise(function(F){vt(o,g,function(){F()})})}function ar(){const{t:n}=K();return b(_t,{flex:1,justifyContent:"center",mb:10,children:[p(gn,{src:"/logo512.png",w:120,p:2,mb:3,backgroundColor:"white",borderRadius:12}),p(ge,{children:n("Welcome to RMG")}),p(Y,{fontSize:"lg",textAlign:"center",children:n("Select an app to start your own rail map design!")})]})}function ir(n){var e;const{tab:t,isActive:r}=n,[a]=k.exports.useState((e=t.url)!=null?e:"/"+t.app+"/");return p(Qe,{display:r?"block":"none",flex:1,children:p("iframe",{id:an+t.id,src:a,loading:"lazy",title:t.app,width:"100%",height:"100%"})})}const or={display:"flex",flex:1,flexDirection:"column",overflow:"hidden","& .chakra-tabs__tablist":{whiteSpace:"nowrap",overflowX:"auto",overflowY:"hidden",ml:10,transition:"0.3s ease-in-out",".show-menu &":{ml:0}},"& .chakra-tabs__tab":{"& button":{ml:1}}};function sr(){const{t:n}=K(),t=qe(),{openedTabs:r,activeTab:a}=Mt(o=>o.app),e=a?r.findIndex(o=>o.id===a):-1,i=(o,s,u)=>{o.stopPropagation(),t(sn(s)),I.event(Oe.CLOSE_APP,{app:u})};return r.length===0?p(ar,{}):b(hn,{as:"section",variant:"enclosed",colorScheme:"primary",index:e,sx:or,children:[p(dn,{children:r.map(({id:o,app:s})=>b(mn,{as:Qe,onClick:()=>t(on(o)),cursor:"pointer",children:[n(pe[s].name),p(vn,{size:"sm",onClick:u=>i(u,o,s),title:n("Close")})]},o))}),r.map(o=>p(ir,{tab:o,isActive:a===o.id},o.id))]})}var Xt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wt=Je.createContext&&Je.createContext(Xt),ee=globalThis&&globalThis.__assign||function(){return ee=Object.assign||function(n){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}return n},ee.apply(this,arguments)},ur=globalThis&&globalThis.__rest||function(n,t){var r={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(r[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,a=Object.getOwnPropertySymbols(n);e<a.length;e++)t.indexOf(a[e])<0&&Object.prototype.propertyIsEnumerable.call(n,a[e])&&(r[a[e]]=n[a[e]]);return r};function Zt(n){return n&&n.map(function(t,r){return Je.createElement(t.tag,ee({key:r},t.attr),Zt(t.child))})}function he(n){return function(t){return p(lr,{...ee({attr:ee({},n.attr)},t),children:Zt(n.child)})}}function lr(n){var t=function(r){var a=n.attr,e=n.size,i=n.title,o=ur(n,["attr","size","title"]),s=e||r.size||"1em",u;return r.className&&(u=r.className),n.className&&(u=(u?u+" ":"")+n.className),b("svg",{...ee({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,o,{className:u,style:ee(ee({color:n.color||r.color},r.style),n.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),children:[i&&p("title",{children:i}),n.children]})};return wt!==void 0?p(wt.Consumer,{children:function(r){return t(r)}}):t(Xt)}function cr(n){return he({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}}]})(n)}function fr(n){return he({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(n)}function A(n){return he({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}}]})(n)}function pr(n){return he({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}}]})(n)}function gr(n){return he({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(n)}function hr(n){return he({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}}]})(n)}const dr={w:"100%",overflow:"hidden",justifyContent:"flex-start",textOverflow:"ellipsis",textAlign:"start"};function mr(n){const{appId:t,onAboutOpen:r}=n,{t:a}=K(),e=qe(),i=yn(`(min-width: ${bn.breakpoints.sm})`),o=s=>{e(s?un(t):ln(t)),i[0]||e(zt()),I.event(Oe.OPEN_APP,{appId:t,isOpenInNew:s})};return b(On,{variant:"ghost",size:"md",isAttached:!0,children:[p(Be,{onClick:()=>o(!1),title:a(pe[t].name),sx:dr,children:a(pe[t].name)}),b(wn,{children:[p(xn,{as:Ne,icon:p(gr,{}),"aria-label":a("More"),title:a("More")}),b(Sn,{children:[pe[t].allowMultiInstances&&p(ft,{icon:p(A,{}),onClick:()=>o(!0),children:a("Open in new Workspace")}),p(ft,{icon:p(fr,{}),onClick:r,children:a("About")+" "+a(pe[t].name)})]})]})]})}const vr=async n=>{let t=`/${n}/info.json`;try{return(await(await fetch(t)).json()).version}catch{return console.log(`Failed to get version for ${n}`),"unknown"}};function yr(n){const{appId:t,onClose:r}=n,{t:a}=K(),[e,i]=k.exports.useState("Unknown");return k.exports.useEffect(()=>{t?vr(t).then(o=>i(o)):i("Unknown")},[t]),b(Xe,{isOpen:!!t,onClose:r,size:"xl",scrollBehavior:"inside",children:[p(Ze,{}),b(et,{children:[b(tt,{children:[a("About")+" "+(t?a(pe[t].name):""),p(Cn,{ml:1,children:e})]}),p(nt,{}),p(rt,{}),p(at,{children:p(Be,{colorScheme:"primary",onClick:()=>window.open("https://github.com/railmapgen/"+t,"_blank"),children:a("Visit GitHub")})})]})]})}const br={flexDirection:"column","& h5":{mx:1,my:2},"& > div":{flexDirection:"column"}};function Or(){const{t:n}=K(),[t,r]=k.exports.useState(),a=cn(I.getEnv());return b(q,{sx:br,children:[p(ge,{as:"h5",size:"sm",children:n("Apps")}),p(q,{children:a.map(e=>p(mr,{appId:e,onAboutOpen:()=>r(e)},e))}),p(yr,{appId:t,onClose:()=>r(void 0)})]})}const wr="\u5E94\u7528\u7A0B\u5E8F",xr="\u53D6\u6D88",Sr="\u7EC4\u4EF6",Cr="\u786E\u5B9A",Er="\u8BED\u8A00",kr="\u8C03\u8272\u677F",Pr="\u91CD\u7F6E",jr="\u8BBE\u7F6E",Fr="\u63D0\u4EA4",Rr="\u6A21\u677F",Nr="\u7FFB\u8BD1",Ar={Apps:wr,Cancel:xr,Components:Sr,Confirm:Cr,Language:Er,Palette:kr,"Rail Map Generator":"\u94C1\u8DEF\u7EBF\u8DEF\u56FE\u751F\u6210\u5668","Rail Map Painter":"\u5730\u94C1\u7EBF\u8DEF\u56FE\u7ED8\u5236\u5668",Reset:Pr,"RMG Home":"RMG \u4E3B\u9875","Seed Project":"\u79CD\u5B50\u9879\u76EE",Settings:jr,Submit:Fr,Templates:Rr,Translate:Nr},Lr="\u61C9\u7528\u7A0B\u5F0F",Tr="\u53D6\u6D88",Dr="\u5143\u4EF6",Br="\u78BA\u5B9A",Ir="\u8A9E\u8A00",Mr="\u8ABF\u8272\u76E4",zr="\u91CD\u8A2D",_r="\u8A2D\u5B9A",Hr="\u63D0\u4EA4",$r="\u7BC4\u672C",Vr="\u7FFB\u8B6F",Ur={Apps:Lr,Cancel:Tr,Components:Dr,Confirm:Br,Language:Ir,Palette:Mr,"Rail Map Generator":"\u9435\u8DEF\u8DEF\u7DAB\u5716\u7522\u751F\u5668","Rail Map Painter":"\u5730\u9435\u8DEF\u7DAB\u5716\u7E6A\u88FD\u5668",Reset:zr,"RMG Home":"RMG \u4E3B\u9801","Seed Project":"\u7A2E\u5B50\u9805\u76EE",Settings:_r,Submit:Hr,Templates:$r,Translate:Vr};var R;(function(n){n.Azerbaijani="az",n.Arabic="ar",n.Catalan="ca",n.Chinese="zh",n.ChineseCN="zh-CN",n.ChineseSimp="zh-Hans",n.ChineseTrad="zh-Hant",n.ChineseHK="zh-HK",n.ChineseTW="zh-TW",n.English="en",n.French="fr",n.Gaelic="ga",n.German="de",n.Hindi="hi",n.Japanese="ja",n.Korean="ko",n.Malay="ms",n.Norwegian="no",n.Spanish="es",n.Persian="fa",n.Portuguese="pt",n.Russian="ru",n.Swedish="sv",n.Turkish="tr"})(R||(R={}));var Le=globalThis&&globalThis.__assign||function(){return Le=Object.assign||function(n){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}return n},Le.apply(this,arguments)},Kr=function(){function n(){this._resources={"zh-Hans":{translation:Ar},"zh-Hant":{translation:Ur}}}return n.prototype.withResource=function(t,r){return t in this._resources?this._resources[t].translation=Le(Le({},this._resources[t].translation),r):this._resources[t]={translation:r},this},n.prototype.build=function(){return this._resources},n}(),Wr={Builder:Kr};function te(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ie(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&En(n,t)}function we(n,t){if(t&&(z(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return te(n)}function J(n){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J(n)}function Gr(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Jr(n){return Yt(n)||Gr(n)||qt(n)||Qt()}function xt(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function St(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xt(Object(r),!0).forEach(function(a){$(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}var Yr={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,r){console&&console[t]&&console[t].apply(console,r)}},qr=function(){function n(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};V(this,n),this.init(t,r)}return U(n,[{key:"init",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=a.prefix||"i18next:",this.logger=r||Yr,this.options=a,this.debug=a.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,a=new Array(r),e=0;e<r;e++)a[e]=arguments[e];return this.forward(a,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,a=new Array(r),e=0;e<r;e++)a[e]=arguments[e];return this.forward(a,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,a=new Array(r),e=0;e<r;e++)a[e]=arguments[e];return this.forward(a,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,a=new Array(r),e=0;e<r;e++)a[e]=arguments[e];return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,a,e,i){return i&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(e).concat(this.prefix," ").concat(r[0])),this.logger[a](r))}},{key:"create",value:function(r){return new n(this.logger,St(St({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new n(this.logger,r)}}]),n}(),G=new qr,ne=function(){function n(){V(this,n),this.observers={}}return U(n,[{key:"on",value:function(r,a){var e=this;return r.split(" ").forEach(function(i){e.observers[i]=e.observers[i]||[],e.observers[i].push(a)}),this}},{key:"off",value:function(r,a){if(!!this.observers[r]){if(!a){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(e){return e!==a})}}},{key:"emit",value:function(r){for(var a=arguments.length,e=new Array(a>1?a-1:0),i=1;i<a;i++)e[i-1]=arguments[i];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(u){u.apply(void 0,e)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(u){u.apply(u,[r].concat(e))})}}}]),n}();function ye(){var n,t,r=new Promise(function(a,e){n=a,t=e});return r.resolve=n,r.reject=t,r}function Ct(n){return n==null?"":""+n}function Qr(n,t,r){n.forEach(function(a){t[a]&&(r[a]=t[a])})}function it(n,t,r){function a(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function e(){return!n||typeof n=="string"}for(var i=typeof t!="string"?[].concat(t):t.split(".");i.length>1;){if(e())return{};var o=a(i.shift());!n[o]&&r&&(n[o]=new r),Object.prototype.hasOwnProperty.call(n,o)?n=n[o]:n={}}return e()?{}:{obj:n,k:a(i.shift())}}function Et(n,t,r){var a=it(n,t,Object),e=a.obj,i=a.k;e[i]=r}function Xr(n,t,r,a){var e=it(n,t,Object),i=e.obj,o=e.k;i[o]=i[o]||[],a&&(i[o]=i[o].concat(r)),a||i[o].push(r)}function Te(n,t){var r=it(n,t),a=r.obj,e=r.k;if(!!a)return a[e]}function kt(n,t,r){var a=Te(n,r);return a!==void 0?a:Te(t,r)}function en(n,t,r){for(var a in t)a!=="__proto__"&&a!=="constructor"&&(a in n?typeof n[a]=="string"||n[a]instanceof String||typeof t[a]=="string"||t[a]instanceof String?r&&(n[a]=t[a]):en(n[a],t[a],r):n[a]=t[a]);return n}function ce(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Zr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function ea(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,function(t){return Zr[t]}):n}var Me=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,ta=[" ",",","?","!",";"];function na(n,t,r){t=t||"",r=r||"";var a=ta.filter(function(s){return t.indexOf(s)<0&&r.indexOf(s)<0});if(a.length===0)return!0;var e=new RegExp("(".concat(a.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),i=!e.test(n);if(!i){var o=n.indexOf(r);o>0&&!e.test(n.substring(0,o))&&(i=!0)}return i}function Pt(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function je(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pt(Object(r),!0).forEach(function(a){$(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function ra(n){var t=aa();return function(){var a=J(n),e;if(t){var i=J(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return we(this,e)}}function aa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tn(n,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!!n){if(n[t])return n[t];for(var a=t.split(r),e=n,i=0;i<a.length;++i){if(!e||typeof e[a[i]]=="string"&&i+1<a.length)return;if(e[a[i]]===void 0){for(var o=2,s=a.slice(i,i+o).join(r),u=e[s];u===void 0&&a.length>i+o;)o++,s=a.slice(i,i+o).join(r),u=e[s];if(u===void 0)return;if(u===null)return null;if(t.endsWith(s)){if(typeof u=="string")return u;if(s&&typeof u[s]=="string")return u[s]}var c=a.slice(i+o).join(r);return c?tn(u,c,r):void 0}e=e[a[i]]}return e}}var ia=function(n){Ie(r,n);var t=ra(r);function r(a){var e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return V(this,r),e=t.call(this),Me&&ne.call(te(e)),e.data=a||{},e.options=i,e.options.keySeparator===void 0&&(e.options.keySeparator="."),e.options.ignoreJSONStructure===void 0&&(e.options.ignoreJSONStructure=!0),e}return U(r,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var i=this.options.ns.indexOf(e);i>-1&&this.options.ns.splice(i,1)}},{key:"getResource",value:function(e,i,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,c=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,f=[e,i];o&&typeof o!="string"&&(f=f.concat(o)),o&&typeof o=="string"&&(f=f.concat(u?o.split(u):o)),e.indexOf(".")>-1&&(f=e.split("."));var l=Te(this.data,f);return l||!c||typeof o!="string"?l:tn(this.data&&this.data[e]&&this.data[e][i],o,u)}},{key:"addResource",value:function(e,i,o,s){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},c=this.options.keySeparator;c===void 0&&(c=".");var f=[e,i];o&&(f=f.concat(c?o.split(c):o)),e.indexOf(".")>-1&&(f=e.split("."),s=i,i=f[1]),this.addNamespaces(i),Et(this.data,f,s),u.silent||this.emit("added",e,i,o,s)}},{key:"addResources",value:function(e,i,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in o)(typeof o[u]=="string"||Object.prototype.toString.apply(o[u])==="[object Array]")&&this.addResource(e,i,u,o[u],{silent:!0});s.silent||this.emit("added",e,i,o)}},{key:"addResourceBundle",value:function(e,i,o,s,u){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},f=[e,i];e.indexOf(".")>-1&&(f=e.split("."),s=o,o=i,i=f[1]),this.addNamespaces(i);var l=Te(this.data,f)||{};s?en(l,o,u):l=je(je({},l),o),Et(this.data,f,l),c.silent||this.emit("added",e,i,o)}},{key:"removeResourceBundle",value:function(e,i){this.hasResourceBundle(e,i)&&delete this.data[e][i],this.removeNamespaces(i),this.emit("removed",e,i)}},{key:"hasResourceBundle",value:function(e,i){return this.getResource(e,i)!==void 0}},{key:"getResourceBundle",value:function(e,i){return i||(i=this.options.defaultNS),this.options.compatibilityAPI==="v1"?je(je({},{}),this.getResource(e,i)):this.getResource(e,i)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var i=this.getDataByLanguage(e),o=i&&Object.keys(i)||[];return!!o.find(function(s){return i[s]&&Object.keys(i[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(ne),nn={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,r,a,e,i){var o=this;return t.forEach(function(s){o.processors[s]&&(r=o.processors[s].process(r,a,e,i))}),r}};function jt(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function B(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jt(Object(r),!0).forEach(function(a){$(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function oa(n){var t=sa();return function(){var a=J(n),e;if(t){var i=J(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return we(this,e)}}function sa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ft={},Rt=function(n){Ie(r,n);var t=oa(r);function r(a){var e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return V(this,r),e=t.call(this),Me&&ne.call(te(e)),Qr(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a,te(e)),e.options=i,e.options.keySeparator===void 0&&(e.options.keySeparator="."),e.logger=G.create("translator"),e}return U(r,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;var o=this.resolve(e,i);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(e,i){var o=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,u=i.ns||this.options.defaultNS||[],c=o&&e.indexOf(o)>-1,f=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!na(e,o,s);if(c&&!f){var l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:u};var g=e.split(o);(o!==s||o===s&&this.options.ns.indexOf(g[0])>-1)&&(u=g.shift()),e=g.join(s)}return typeof u=="string"&&(u=[u]),{key:e,namespaces:u}}},{key:"translate",value:function(e,i,o){var s=this;if(z(i)!=="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);var u=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,c=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,f=this.extractFromKey(e[e.length-1],i),l=f.key,g=f.namespaces,h=g[g.length-1],y=i.lng||this.language,x=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(y&&y.toLowerCase()==="cimode"){if(x){var v=i.nsSeparator||this.options.nsSeparator;return u?(m.res="".concat(h).concat(v).concat(l),m):"".concat(h).concat(v).concat(l)}return u?(m.res=l,m):l}var m=this.resolve(e,i),d=m&&m.res,w=m&&m.usedKey||l,S=m&&m.exactUsedKey||l,C=Object.prototype.toString.apply(d),O=["[object Number]","[object Function]","[object RegExp]"],P=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,F=!this.i18nFormat||this.i18nFormat.handleAsObject,j=typeof d!="string"&&typeof d!="boolean"&&typeof d!="number";if(F&&d&&j&&O.indexOf(C)<0&&!(typeof P=="string"&&C==="[object Array]")){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var E=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,d,B(B({},i),{},{ns:g})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return u?(m.res=E,m):E}if(c){var M=C==="[object Array]",Q=M?[]:{},ae=M?S:w;for(var _ in d)if(Object.prototype.hasOwnProperty.call(d,_)){var ie="".concat(ae).concat(c).concat(_);Q[_]=this.translate(ie,B(B({},i),{joinArrays:!1,ns:g})),Q[_]===ie&&(Q[_]=d[_])}d=Q}}else if(F&&typeof P=="string"&&C==="[object Array]")d=d.join(P),d&&(d=this.extendTranslation(d,e,i,o));else{var oe=!1,re=!1,xe=i.count!==void 0&&typeof i.count!="string",de=r.hasDefaultValue(i),ze=xe?this.pluralResolver.getSuffix(y,i.count,i):"",X=i["defaultValue".concat(ze)]||i.defaultValue;!this.isValidLookup(d)&&de&&(oe=!0,d=X),this.isValidLookup(d)||(re=!0,d=l);var Se=i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Ce=Se&&re?void 0:d,me=de&&X!==d&&this.options.updateMissing;if(re||oe||me){if(this.logger.log(me?"updateKey":"missingKey",y,h,l,me?X:d),c){var ot=this.resolve(l,B(B({},i),{},{keySeparator:!1}));ot&&ot.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var ve=[],Ee=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ee&&Ee[0])for(var _e=0;_e<Ee.length;_e++)ve.push(Ee[_e]);else this.options.saveMissingTo==="all"?ve=this.languageUtils.toResolveHierarchy(i.lng||this.language):ve.push(i.lng||this.language);var st=function(se,$e,ut){var lt=de&&ut!==d?ut:Ce;s.options.missingKeyHandler?s.options.missingKeyHandler(se,h,$e,lt,me,i):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(se,h,$e,lt,me,i),s.emit("missingKey",se,h,$e,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&xe?ve.forEach(function(He){s.pluralResolver.getSuffixes(He,i).forEach(function(se){st([He],l+se,i["defaultValue".concat(se)]||X)})}):st(ve,l,X))}d=this.extendTranslation(d,e,i,m,o),re&&d===l&&this.options.appendNamespaceToMissingKey&&(d="".concat(h,":").concat(l)),(re||oe)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(h,":").concat(l):l,oe?d:void 0):d=this.options.parseMissingKeyHandler(d))}return u?(m.res=d,m):d}},{key:"extendTranslation",value:function(e,i,o,s,u){var c=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,B(B({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(B(B({},o),{interpolation:B(B({},this.options.interpolation),o.interpolation)}));var f=typeof e=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),l;if(f){var g=e.match(this.interpolator.nestingRegexp);l=g&&g.length}var h=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(h=B(B({},this.options.interpolation.defaultVariables),h)),e=this.interpolator.interpolate(e,h,o.lng||this.language,o),f){var y=e.match(this.interpolator.nestingRegexp),x=y&&y.length;l<x&&(o.nest=!1)}o.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,w=new Array(d),S=0;S<d;S++)w[S]=arguments[S];return u&&u[0]===w[0]&&!o.context?(c.logger.warn("It seems you are nesting recursively key: ".concat(w[0]," in key: ").concat(i[0])),null):c.translate.apply(c,w.concat([i]))},o)),o.interpolation&&this.interpolator.reset()}var v=o.postProcess||this.options.postProcess,m=typeof v=="string"?[v]:v;return e!=null&&m&&m.length&&o.applyPostProcessor!==!1&&(e=nn.handle(m,e,i,this.options&&this.options.postProcessPassResolved?B({i18nResolved:s},o):o,this)),e}},{key:"resolve",value:function(e){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,u,c,f,l;return typeof e=="string"&&(e=[e]),e.forEach(function(g){if(!i.isValidLookup(s)){var h=i.extractFromKey(g,o),y=h.key;u=y;var x=h.namespaces;i.options.fallbackNS&&(x=x.concat(i.options.fallbackNS));var v=o.count!==void 0&&typeof o.count!="string",m=v&&!o.ordinal&&o.count===0&&i.pluralResolver.shouldUseIntlApi(),d=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",w=o.lngs?o.lngs:i.languageUtils.toResolveHierarchy(o.lng||i.language,o.fallbackLng);x.forEach(function(S){i.isValidLookup(s)||(l=S,!Ft["".concat(w[0],"-").concat(S)]&&i.utils&&i.utils.hasLoadedNamespace&&!i.utils.hasLoadedNamespace(l)&&(Ft["".concat(w[0],"-").concat(S)]=!0,i.logger.warn('key "'.concat(u,'" for languages "').concat(w.join(", "),`" won't get resolved as namespace "`).concat(l,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(function(C){if(!i.isValidLookup(s)){f=C;var O=[y];if(i.i18nFormat&&i.i18nFormat.addLookupKeys)i.i18nFormat.addLookupKeys(O,y,C,S,o);else{var P;v&&(P=i.pluralResolver.getSuffix(C,o.count,o));var F="".concat(i.options.pluralSeparator,"zero");if(v&&(O.push(y+P),m&&O.push(y+F)),d){var j="".concat(y).concat(i.options.contextSeparator).concat(o.context);O.push(j),v&&(O.push(j+P),m&&O.push(j+F))}}for(var E;E=O.pop();)i.isValidLookup(s)||(c=E,s=i.getResource(C,S,E,o))}}))})}}),{res:s,usedKey:u,exactUsedKey:c,usedLng:f,usedNS:l}}},{key:"isValidLookup",value:function(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}},{key:"getResource",value:function(e,i,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,i,o,s):this.resourceStore.getResource(e,i,o,s)}}],[{key:"hasDefaultValue",value:function(e){var i="defaultValue";for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&i===o.substring(0,i.length)&&e[o]!==void 0)return!0;return!1}}]),r}(ne);function Ge(n){return n.charAt(0).toUpperCase()+n.slice(1)}var ua=function(){function n(t){V(this,n),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=G.create("languageUtils")}return U(n,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var a=r.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var a=r.split("-");return this.formatLanguageCode(a[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var a=["hans","hant","latn","cyrl","cans","mong","arab"],e=r.split("-");return this.options.lowerCaseLng?e=e.map(function(i){return i.toLowerCase()}):e.length===2?(e[0]=e[0].toLowerCase(),e[1]=e[1].toUpperCase(),a.indexOf(e[1].toLowerCase())>-1&&(e[1]=Ge(e[1].toLowerCase()))):e.length===3&&(e[0]=e[0].toLowerCase(),e[1].length===2&&(e[1]=e[1].toUpperCase()),e[0]!=="sgn"&&e[2].length===2&&(e[2]=e[2].toUpperCase()),a.indexOf(e[1].toLowerCase())>-1&&(e[1]=Ge(e[1].toLowerCase())),a.indexOf(e[2].toLowerCase())>-1&&(e[2]=Ge(e[2].toLowerCase()))),e.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var a=this;if(!r)return null;var e;return r.forEach(function(i){if(!e){var o=a.formatLanguageCode(i);(!a.options.supportedLngs||a.isSupportedCode(o))&&(e=o)}}),!e&&this.options.supportedLngs&&r.forEach(function(i){if(!e){var o=a.getLanguagePartFromCode(i);if(a.isSupportedCode(o))return e=o;e=a.options.supportedLngs.find(function(s){if(s.indexOf(o)===0)return s})}}),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}},{key:"getFallbackCodes",value:function(r,a){if(!r)return[];if(typeof r=="function"&&(r=r(a)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!a)return r.default||[];var e=r[a];return e||(e=r[this.getScriptPartFromCode(a)]),e||(e=r[this.formatLanguageCode(a)]),e||(e=r[this.getLanguagePartFromCode(a)]),e||(e=r.default),e||[]}},{key:"toResolveHierarchy",value:function(r,a){var e=this,i=this.getFallbackCodes(a||this.options.fallbackLng||[],r),o=[],s=function(c){!c||(e.isSupportedCode(c)?o.push(c):e.logger.warn("rejecting language code not found in supportedLngs: ".concat(c)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),i.forEach(function(u){o.indexOf(u)<0&&s(e.formatLanguageCode(u))}),o}}]),n}(),la=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ca={1:function(t){return Number(t>1)},2:function(t){return Number(t!=1)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(t==1?0:t>=2&&t<=4?1:2)},7:function(t){return Number(t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(t==1?0:t==2?1:t!=8&&t!=11?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(t==1?0:t==2?1:t<7?2:t<11?3:4)},11:function(t){return Number(t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(t!==0)},14:function(t){return Number(t==1?0:t==2?1:t==3?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:t!==0?1:2)},17:function(t){return Number(t==1||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(t==0?0:t==1?1:2)},19:function(t){return Number(t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(t==1?0:t==0||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3)}},fa=["v1","v2","v3"],Nt={zero:0,one:1,two:2,few:3,many:4,other:5};function pa(){var n={};return la.forEach(function(t){t.lngs.forEach(function(r){n[r]={numbers:t.nr,plurals:ca[t.fc]}})}),n}var ga=function(){function n(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};V(this,n),this.languageUtils=t,this.options=r,this.logger=G.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=pa()}return U(n,[{key:"addRule",value:function(r,a){this.rules[r]=a}},{key:"getRule",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:a.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=this.getRule(r,a);return this.shouldUseIntlApi()?e&&e.resolvedOptions().pluralCategories.length>1:e&&e.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,a){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,e).map(function(i){return"".concat(a).concat(i)})}},{key:"getSuffixes",value:function(r){var a=this,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,e);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort(function(o,s){return Nt[o]-Nt[s]}).map(function(o){return"".concat(a.options.prepend).concat(o)}):i.numbers.map(function(o){return a.getSuffix(r,o,e)}):[]}},{key:"getSuffix",value:function(r,a){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this.getRule(r,e);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(i.select(a)):this.getSuffixRetroCompatible(i,a):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,a){var e=this,i=r.noAbs?r.plurals(a):r.plurals(Math.abs(a)),o=r.numbers[i];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return e.options.prepend&&o.toString()?e.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}},{key:"shouldUseIntlApi",value:function(){return!fa.includes(this.options.compatibilityJSON)}}]),n}();function At(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function H(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?At(Object(r),!0).forEach(function(a){$(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):At(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}var ha=function(){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};V(this,n),this.logger=G.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(r){return r},this.init(t)}return U(n,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var a=r.interpolation;this.escape=a.escape!==void 0?a.escape:ea,this.escapeValue=a.escapeValue!==void 0?a.escapeValue:!0,this.useRawValueToEscape=a.useRawValueToEscape!==void 0?a.useRawValueToEscape:!1,this.prefix=a.prefix?ce(a.prefix):a.prefixEscaped||"{{",this.suffix=a.suffix?ce(a.suffix):a.suffixEscaped||"}}",this.formatSeparator=a.formatSeparator?a.formatSeparator:a.formatSeparator||",",this.unescapePrefix=a.unescapeSuffix?"":a.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":a.unescapeSuffix||"",this.nestingPrefix=a.nestingPrefix?ce(a.nestingPrefix):a.nestingPrefixEscaped||ce("$t("),this.nestingSuffix=a.nestingSuffix?ce(a.nestingSuffix):a.nestingSuffixEscaped||ce(")"),this.nestingOptionsSeparator=a.nestingOptionsSeparator?a.nestingOptionsSeparator:a.nestingOptionsSeparator||",",this.maxReplaces=a.maxReplaces?a.maxReplaces:1e3,this.alwaysFormat=a.alwaysFormat!==void 0?a.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var a="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(a,"g");var e="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(e,"g")}},{key:"interpolate",value:function(r,a,e,i){var o=this,s,u,c,f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(v){return v.replace(/\$/g,"$$$$")}var g=function(m){if(m.indexOf(o.formatSeparator)<0){var d=kt(a,f,m);return o.alwaysFormat?o.format(d,void 0,e,H(H(H({},i),a),{},{interpolationkey:m})):d}var w=m.split(o.formatSeparator),S=w.shift().trim(),C=w.join(o.formatSeparator).trim();return o.format(kt(a,f,S),C,e,H(H(H({},i),a),{},{interpolationkey:S}))};this.resetRegExp();var h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,y=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,x=[{regex:this.regexpUnescape,safeValue:function(m){return l(m)}},{regex:this.regexp,safeValue:function(m){return o.escapeValue?l(o.escape(m)):l(m)}}];return x.forEach(function(v){for(c=0;s=v.regex.exec(r);){var m=s[1].trim();if(u=g(m),u===void 0)if(typeof h=="function"){var d=h(r,s,i);u=typeof d=="string"?d:""}else if(i&&i.hasOwnProperty(m))u="";else if(y){u=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(m," for interpolating ").concat(r)),u="";else typeof u!="string"&&!o.useRawValueToEscape&&(u=Ct(u));var w=v.safeValue(u);if(r=r.replace(s[0],w),y?(v.regex.lastIndex+=u.length,v.regex.lastIndex-=s[0].length):v.regex.lastIndex=0,c++,c>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,a){var e=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,u=H({},i);u.applyPostProcessor=!1,delete u.defaultValue;function c(h,y){var x=this.nestingOptionsSeparator;if(h.indexOf(x)<0)return h;var v=h.split(new RegExp("".concat(x,"[ ]*{"))),m="{".concat(v[1]);h=v[0],m=this.interpolate(m,u);var d=m.match(/'/g),w=m.match(/"/g);(d&&d.length%2===0&&!w||w.length%2!==0)&&(m=m.replace(/'/g,'"'));try{u=JSON.parse(m),y&&(u=H(H({},y),u))}catch(S){return this.logger.warn("failed parsing options string in nesting for key ".concat(h),S),"".concat(h).concat(x).concat(m)}return delete u.defaultValue,h}for(;o=this.nestingRegexp.exec(r);){var f=[],l=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var g=o[1].split(this.formatSeparator).map(function(h){return h.trim()});o[1]=g.shift(),f=g,l=!0}if(s=a(c.call(this,o[1].trim(),u),u),s&&o[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=Ct(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),s=""),l&&(s=f.reduce(function(h,y){return e.format(h,y,i.lng,H(H({},i),{},{interpolationkey:o[1].trim()}))},s.trim())),r=r.replace(o[0],s),this.regexp.lastIndex=0}return r}}]),n}();function Lt(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function Z(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lt(Object(r),!0).forEach(function(a){$(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function da(n){var t=n.toLowerCase().trim(),r={};if(n.indexOf("(")>-1){var a=n.split("(");t=a[0].toLowerCase().trim();var e=a[1].substring(0,a[1].length-1);if(t==="currency"&&e.indexOf(":")<0)r.currency||(r.currency=e.trim());else if(t==="relativetime"&&e.indexOf(":")<0)r.range||(r.range=e.trim());else{var i=e.split(";");i.forEach(function(o){if(!!o){var s=o.split(":"),u=Jr(s),c=u[0],f=u.slice(1),l=f.join(":").trim().replace(/^'+|'+$/g,"");r[c.trim()]||(r[c.trim()]=l),l==="false"&&(r[c.trim()]=!1),l==="true"&&(r[c.trim()]=!0),isNaN(l)||(r[c.trim()]=parseInt(l,10))}})}}return{formatName:t,formatOptions:r}}function fe(n){var t={};return function(a,e,i){var o=e+JSON.stringify(i),s=t[o];return s||(s=n(e,i),t[o]=s),s(a)}}var ma=function(){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};V(this,n),this.logger=G.create("formatter"),this.options=t,this.formats={number:fe(function(r,a){var e=new Intl.NumberFormat(r,a);return function(i){return e.format(i)}}),currency:fe(function(r,a){var e=new Intl.NumberFormat(r,Z(Z({},a),{},{style:"currency"}));return function(i){return e.format(i)}}),datetime:fe(function(r,a){var e=new Intl.DateTimeFormat(r,Z({},a));return function(i){return e.format(i)}}),relativetime:fe(function(r,a){var e=new Intl.RelativeTimeFormat(r,Z({},a));return function(i){return e.format(i,a.range||"day")}}),list:fe(function(r,a){var e=new Intl.ListFormat(r,Z({},a));return function(i){return e.format(i)}})},this.init(t)}return U(n,[{key:"init",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},e=a.interpolation;this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||","}},{key:"add",value:function(r,a){this.formats[r.toLowerCase().trim()]=a}},{key:"addCached",value:function(r,a){this.formats[r.toLowerCase().trim()]=fe(a)}},{key:"format",value:function(r,a,e,i){var o=this,s=a.split(this.formatSeparator),u=s.reduce(function(c,f){var l=da(f),g=l.formatName,h=l.formatOptions;if(o.formats[g]){var y=c;try{var x=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},v=x.locale||x.lng||i.locale||i.lng||e;y=o.formats[g](c,v,Z(Z(Z({},h),i),x))}catch(m){o.logger.warn(m)}return y}else o.logger.warn("there was no format function for ".concat(g));return c},r);return u}}]),n}();function Tt(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function Dt(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tt(Object(r),!0).forEach(function(a){$(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function va(n){var t=ya();return function(){var a=J(n),e;if(t){var i=J(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return we(this,e)}}function ya(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ba(n,t){n.pending[t]!==void 0&&(delete n.pending[t],n.pendingCount--)}var Oa=function(n){Ie(r,n);var t=va(r);function r(a,e,i){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return V(this,r),o=t.call(this),Me&&ne.call(te(o)),o.backend=a,o.store=e,o.services=i,o.languageUtils=i.languageUtils,o.options=s,o.logger=G.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(i,s.backend,s),o}return U(r,[{key:"queueLoad",value:function(e,i,o,s){var u=this,c={},f={},l={},g={};return e.forEach(function(h){var y=!0;i.forEach(function(x){var v="".concat(h,"|").concat(x);!o.reload&&u.store.hasResourceBundle(h,x)?u.state[v]=2:u.state[v]<0||(u.state[v]===1?f[v]===void 0&&(f[v]=!0):(u.state[v]=1,y=!1,f[v]===void 0&&(f[v]=!0),c[v]===void 0&&(c[v]=!0),g[x]===void 0&&(g[x]=!0)))}),y||(l[h]=!0)}),(Object.keys(c).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(c),pending:Object.keys(f),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(g)}}},{key:"loaded",value:function(e,i,o){var s=e.split("|"),u=s[0],c=s[1];i&&this.emit("failedLoading",u,c,i),o&&this.store.addResourceBundle(u,c,o),this.state[e]=i?-1:2;var f={};this.queue.forEach(function(l){Xr(l.loaded,[u],c),ba(l,e),i&&l.errors.push(i),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(function(g){f[g]||(f[g]={});var h=l.loaded[g];h.length&&h.forEach(function(y){f[g][y]===void 0&&(f[g][y]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(function(l){return!l.done})}},{key:"read",value:function(e,i,o){var s=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,f=arguments.length>5?arguments[5]:void 0;if(!e.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:i,fcName:o,tried:u,wait:c,callback:f});return}return this.readingCalls++,this.backend[o](e,i,function(l,g){if(s.readingCalls--,s.waitingReads.length>0){var h=s.waitingReads.shift();s.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(l&&g&&u<s.maxRetries){setTimeout(function(){s.read.call(s,e,i,o,u+1,c*2,f)},c);return}f(l,g)})}},{key:"prepareLoading",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof i=="string"&&(i=[i]);var c=this.queueLoad(e,i,s,u);if(!c.toLoad.length)return c.pending.length||u(),null;c.toLoad.forEach(function(f){o.loadOne(f)})}},{key:"load",value:function(e,i,o){this.prepareLoading(e,i,{},o)}},{key:"reload",value:function(e,i,o){this.prepareLoading(e,i,{reload:!0},o)}},{key:"loadOne",value:function(e){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=e.split("|"),u=s[0],c=s[1];this.read(u,c,"read",void 0,void 0,function(f,l){f&&i.logger.warn("".concat(o,"loading namespace ").concat(c," for language ").concat(u," failed"),f),!f&&l&&i.logger.log("".concat(o,"loaded namespace ").concat(c," for language ").concat(u),l),i.loaded(e,f,l)})}},{key:"saveMissing",value:function(e,i,o,s,u){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(i)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}o==null||o===""||(this.backend&&this.backend.create&&this.backend.create(e,i,o,s,null,Dt(Dt({},c),{},{isUpdate:u})),!(!e||!e[0])&&this.store.addResource(e[0],i,o,s))}}]),r}(ne);function wa(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var r={};if(z(t[1])==="object"&&(r=t[1]),typeof t[1]=="string"&&(r.defaultValue=t[1]),typeof t[2]=="string"&&(r.tDescription=t[2]),z(t[2])==="object"||z(t[3])==="object"){var a=t[3]||t[2];Object.keys(a).forEach(function(e){r[e]=a[e]})}return r},interpolation:{escapeValue:!0,format:function(t,r,a,e){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Bt(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function It(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function W(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?It(Object(r),!0).forEach(function(a){$(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function xa(n){var t=Sa();return function(){var a=J(n),e;if(t){var i=J(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return we(this,e)}}function Sa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fe(){}function Ca(n){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(n));t.forEach(function(r){typeof n[r]=="function"&&(n[r]=n[r].bind(n))})}var De=function(n){Ie(r,n);var t=xa(r);function r(){var a,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(V(this,r),a=t.call(this),Me&&ne.call(te(a)),a.options=Bt(e),a.services={},a.logger=G,a.modules={external:[]},Ca(te(a)),i&&!a.isInitialized&&!e.isClone){if(!a.options.initImmediate)return a.init(e,i),we(a,te(a));setTimeout(function(){a.init(e,i)},0)}return a}return U(r,[{key:"init",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof i=="function"&&(o=i,i={}),!i.defaultNS&&i.defaultNS!==!1&&i.ns&&(typeof i.ns=="string"?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));var s=wa();this.options=W(W(W({},s),this.options),Bt(i)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=W(W({},s.interpolation),this.options.interpolation)),i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);function u(m){return m?typeof m=="function"?new m:m:null}if(!this.options.isClone){this.modules.logger?G.init(u(this.modules.logger),this.options):G.init(null,this.options);var c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=ma);var f=new ua(this.options);this.store=new ia(this.options.resources,this.options);var l=this.services;l.logger=G,l.resourceStore=this.store,l.languageUtils=f,l.pluralResolver=new ga(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(l.formatter=u(c),l.formatter.init(l,this.options),this.options.interpolation.format=l.formatter.format.bind(l.formatter)),l.interpolator=new ha(this.options),l.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},l.backendConnector=new Oa(u(this.modules.backend),l.resourceStore,l,this.options),l.backendConnector.on("*",function(m){for(var d=arguments.length,w=new Array(d>1?d-1:0),S=1;S<d;S++)w[S-1]=arguments[S];e.emit.apply(e,[m].concat(w))}),this.modules.languageDetector&&(l.languageDetector=u(this.modules.languageDetector),l.languageDetector.init(l,this.options.detection,this.options)),this.modules.i18nFormat&&(l.i18nFormat=u(this.modules.i18nFormat),l.i18nFormat.init&&l.i18nFormat.init(this)),this.translator=new Rt(this.services,this.options),this.translator.on("*",function(m){for(var d=arguments.length,w=new Array(d>1?d-1:0),S=1;S<d;S++)w[S-1]=arguments[S];e.emit.apply(e,[m].concat(w))}),this.modules.external.forEach(function(m){m.init&&m.init(e)})}if(this.format=this.options.interpolation.format,o||(o=Fe),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var h=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];h.forEach(function(m){e[m]=function(){var d;return(d=e.store)[m].apply(d,arguments)}});var y=["addResource","addResources","addResourceBundle","removeResourceBundle"];y.forEach(function(m){e[m]=function(){var d;return(d=e.store)[m].apply(d,arguments),e}});var x=ye(),v=function(){var d=function(S,C){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),x.resolve(C),o(S,C)};if(e.languages&&e.options.compatibilityAPI!=="v1"&&!e.isInitialized)return d(null,e.t.bind(e));e.changeLanguage(e.options.lng,d)};return this.options.resources||!this.options.initImmediate?v():setTimeout(v,0),x}},{key:"loadResources",value:function(e){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe,s=o,u=typeof e=="string"?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode")return s();var c=[],f=function(h){if(!!h){var y=i.services.languageUtils.toResolveHierarchy(h);y.forEach(function(x){c.indexOf(x)<0&&c.push(x)})}};if(u)f(u);else{var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.forEach(function(g){return f(g)})}this.options.preload&&this.options.preload.forEach(function(g){return f(g)}),this.services.backendConnector.load(c,this.options.ns,function(g){!g&&!i.resolvedLanguage&&i.language&&i.setResolvedLanguage(i.language),s(g)})}else s(null)}},{key:"reloadResources",value:function(e,i,o){var s=ye();return e||(e=this.languages),i||(i=this.options.ns),o||(o=Fe),this.services.backendConnector.reload(e,i,function(u){s.resolve(),o(u)}),s}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&nn.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(var i=0;i<this.languages.length;i++){var o=this.languages[i];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(e,i){var o=this;this.isLanguageChangingTo=e;var s=ye();this.emit("languageChanging",e);var u=function(g){o.language=g,o.languages=o.services.languageUtils.toResolveHierarchy(g),o.resolvedLanguage=void 0,o.setResolvedLanguage(g)},c=function(g,h){h?(u(h),o.translator.changeLanguage(h),o.isLanguageChangingTo=void 0,o.emit("languageChanged",h),o.logger.log("languageChanged",h)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),i&&i(g,function(){return o.t.apply(o,arguments)})},f=function(g){!e&&!g&&o.services.languageDetector&&(g=[]);var h=typeof g=="string"?g:o.services.languageUtils.getBestMatchFromCodes(g);h&&(o.language||u(h),o.translator.language||o.translator.changeLanguage(h),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage(h)),o.loadResources(h,function(y){c(y,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(f):f(e),s}},{key:"getFixedT",value:function(e,i,o){var s=this,u=function c(f,l){var g;if(z(l)!=="object"){for(var h=arguments.length,y=new Array(h>2?h-2:0),x=2;x<h;x++)y[x-2]=arguments[x];g=s.options.overloadTranslationOptionHandler([f,l].concat(y))}else g=W({},l);g.lng=g.lng||c.lng,g.lngs=g.lngs||c.lngs,g.ns=g.ns||c.ns,g.keyPrefix=g.keyPrefix||o||c.keyPrefix;var v=s.options.keySeparator||".",m=g.keyPrefix?"".concat(g.keyPrefix).concat(v).concat(f):f;return s.t(m,g)};return typeof e=="string"?u.lng=e:u.lngs=e,u.ns=i,u.keyPrefix=o,u}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var f=function(h,y){var x=i.services.backendConnector.state["".concat(h,"|").concat(y)];return x===-1||x===2};if(o.precheck){var l=o.precheck(this,f);if(l!==void 0)return l}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(s,e)&&(!u||f(c,e)))}},{key:"loadNamespaces",value:function(e,i){var o=this,s=ye();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(function(u){o.options.ns.indexOf(u)<0&&o.options.ns.push(u)}),this.loadResources(function(u){s.resolve(),i&&i(u)}),s):(i&&i(),Promise.resolve())}},{key:"loadLanguages",value:function(e,i){var o=ye();typeof e=="string"&&(e=[e]);var s=this.options.preload||[],u=e.filter(function(c){return s.indexOf(c)<0});return u.length?(this.options.preload=s.concat(u),this.loadResources(function(c){o.resolve(),i&&i(c)}),o):(i&&i(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"];return i.indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe,s=W(W(W({},this.options),i),{isClone:!0}),u=new r(s);(i.debug!==void 0||i.prefix!==void 0)&&(u.logger=u.logger.clone(i));var c=["store","services","language"];return c.forEach(function(f){u[f]=e[f]}),u.services=W({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new Rt(u.services,u.options),u.translator.on("*",function(f){for(var l=arguments.length,g=new Array(l>1?l-1:0),h=1;h<l;h++)g[h-1]=arguments[h];u.emit.apply(u,[f].concat(g))}),u.init(s,o),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(ne);$(De,"createInstance",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new De(n,t)});var D=De.createInstance();D.createInstance=De.createInstance;D.createInstance;D.init;D.loadResources;D.reloadResources;D.use;D.changeLanguage;D.getFixedT;D.t;D.exists;D.setDefaultNamespace;D.hasLoadedNamespace;D.loadNamespaces;D.loadLanguages;const Ea={},ka={currentMirror:"\u4F60\u6B63\u5728\u6D4F\u89C8 <1>{{mirror}}</1> \u955C\u50CF"},Pa="\u5173\u4E8E",ja="\u8D21\u732E\u8005",Fa={NavMenuFooter:ka,About:Pa,"Contribution Wiki":"\u8D21\u732E\u8005\u6307\u5357",Contributors:ja,"Core contributors":"\u6838\u5FC3\u8D21\u732E\u8005","Open in new Workspace":"\u5728\u65B0 Workspace \u4E2D\u6253\u5F00","Resource contributors":"\u8D44\u6E90\u8D21\u732E\u8005","Resource Administrator":"\u8D44\u6E90\u7BA1\u7406\u5458","Select an app to start your own rail map design!":"\u9009\u62E9\u4E00\u4E2A\u5E94\u7528\u7A0B\u5E8F\u6765\u5F00\u59CB\u4F60\u7684\u7EBF\u8DEF\u56FE\u8BBE\u8BA1\uFF01","Switch to":"\u5207\u6362\u81F3","Terms and conditions":"\u6761\u6B3E\u4E0E\u7EC6\u5219","Visit GitHub":"\u8BBF\u95EE GitHub","Welcome to RMG":"\u6B22\u8FCE\u4F7F\u7528 RMG"},Ra={currentMirror:"\u4F60\u6B63\u5728\u700F\u89BD <1>{{mirror}}</1> \u93E1\u50CF"},Na="\u95DC\u65BC",Aa="\u8CA2\u737B\u8005",La={NavMenuFooter:Ra,About:Na,"Contribution Wiki":"\u8CA2\u737B\u8005\u6307\u5357",Contributors:Aa,"Core contributors":"\u4E3B\u8981\u8CA2\u737B\u8005","Open in new Workspace":"\u5728\u65B0 Workspace \u4E2D\u958B\u555F","Resource contributors":"\u8CC7\u6E90\u8CA2\u737B\u8005","Resource Administrator":"\u8CC7\u6E90\u7BA1\u7406\u54E1","Select an app to start your own rail map design!":"\u9078\u64C7\u4E00\u500B\u61C9\u7528\u7A0B\u5F0F\u4EE5\u958B\u59CB\u4F60\u7684\u8DEF\u7DAB\u5716\u8A2D\u8A08\uFF01","Switch to":"\u5207\u63DB\u81F3","Terms and conditions":"\u689D\u6B3E\u53CA\u7D30\u5247","Visit GitHub":"\u9020\u8A2A GitHub","Welcome to RMG":"\u6B61\u8FCE\u4F7F\u7528 RMG"},Ta=new Wr.Builder().withResource("en",Ea).withResource("zh-Hans",Fa).withResource("zh-Hant",La).build();D.use(Wn).init({lng:I.getLanguage(),fallbackLng:{[R.ChineseCN]:[R.ChineseSimp,R.English],[R.ChineseHK]:[R.ChineseTrad,R.English],[R.ChineseTW]:[R.ChineseTrad,R.English],[R.ChineseTrad]:[R.ChineseHK,R.ChineseTW,R.English],default:[R.English]},resources:Ta}).then(()=>{document.documentElement.lang=D.language});const rn=n=>{D.changeLanguage(n).then(),document.documentElement.lang=n};I.onLanguageChange(rn);const Da={flexDirection:"column","& h5":{mx:1,my:2},"& > div":{px:2}};function Ba(){const{t:n}=K(),t=[{type:"select",label:n("Language"),value:I.getLanguage(),options:{[R.English]:"English",[R.ChineseSimp]:"\u7B80\u4F53\u4E2D\u6587",[R.ChineseTrad]:"\u7E41\u9AD4\u4E2D\u6587"},onChange:r=>{const a=r;I.setLanguage(a),rn(a),I.event(Oe.CHANGE_LANGUAGE,{language:a})}}];return b(q,{sx:Da,children:[p(ge,{as:"h5",size:"sm",children:n("Settings")}),p(Qe,{children:p(kn,{fields:t})})]})}function Ia(n){const{isOpen:t,onClose:r}=n,{t:a}=K(),e=Ht("primary.500","primary.300");return b(Xe,{isOpen:t,onClose:r,size:"xl",scrollBehavior:"inside",children:[p(Ze,{}),b(et,{children:[p(tt,{children:a("Terms and conditions")}),p(nt,{}),p(rt,{children:b(Pn,{children:[b(ue,{children:["The layout of the elements on the signage or rail map, is designed by"," ",b(L,{color:e,href:"https://www.gzmtr.com/",isExternal:!0,children:["Guangzhou Metro Group ",p(T,{as:A})]}),", ",b(L,{color:e,href:"https://www.mtr.com.hk/",isExternal:!0,children:["MTR Corporation ",p(T,{as:A})]})," or ",b(L,{color:e,href:"https://www.shmetro.com/",isExternal:!0,children:["Shanghai Shentong Metro Group ",p(T,{as:A})]}),", depending on your selection. You shall grant appropriate permit or license from the relevant company above before using the generated images for commercial purposes, if it is required to do so.",p("br",{}),"\u6A19\u8A8C\u7248\u6216\u8DEF\u7DDA\u5716\u4E4B\u5143\u7D20\u4E4B\u4F48\u5C40\uFF0C\u57FA\u65BC\u4F60\u6240\u9078\u64C7\u4E4B\u98A8\u683C\uFF0C\u70BA",b(L,{color:e,href:"https://www.gzmtr.com/",isExternal:!0,children:["\u5EE3\u5DDE\u5730\u9435\u96C6\u5718\u516C\u53F8 ",p(T,{as:A})]}),"\uFF0C",b(L,{color:e,href:"https://www.mtr.com.hk/",isExternal:!0,children:["\u6E2F\u9435\u516C\u53F8 ",p(T,{as:A})]}),"\u6216",b(L,{color:e,href:"https://www.shmetro.com/",isExternal:!0,children:["\u4E0A\u6D77\u7533\u901A\u5730\u9435\u96C6\u5718 ",p(T,{as:A})]}),"\u6240\u8A2D\u8A08\u3002\u5728\u7522\u751F\u4E4B\u5716\u50CF\u7528\u4F5C\u5546\u696D\u7528\u9014\u524D\uFF0C\u4F60\u61C9\u5411\u76F8\u95DC\u516C\u53F8\u53D6\u5F97\u9069\u7576\u4E4B\u8A31\u53EF\u8B49\u6216\u6388\u6B0A\u3002"]}),b(ue,{children:["The elements including shapes and lines on the image are drawn by"," ",b(L,{color:e,href:"https://www.github.com/wongchito",isExternal:!0,children:["Chito Wong ",p(T,{as:A})]})," and ",b(L,{color:e,href:"https://www.github.com/thekingofcity",isExternal:!0,children:["thekingofcity ",p(T,{as:A})]}),", based on the design standards or rules of the companies listed above. You may use them for any purposes, but it is recommended to state the name and the link of software alongside.",p("br",{}),"\u5716\u50CF\u4E4B\u5143\u7D20\uFF0C\u5305\u62EC\u5716\u5F62\u53CA\u7DDA\u689D\uFF0C\u5747\u7531",b(L,{color:e,href:"https://www.github.com/wongchito",isExternal:!0,children:["Chito Wong ",p(T,{as:A})]}),"\u53CA",b(L,{color:e,href:"https://www.github.com/thekingofcity",isExternal:!0,children:["thekingofcity ",p(T,{as:A})]}),"\u57FA\u65BC\u4E0A\u8FF0\u516C\u53F8\u4E4B\u8A2D\u8A08\u6A19\u6E96\u6216\u6E96\u5247\u7E6A\u88FD\u3002\u4F60\u53EF\u5C07\u5176\u7528\u65BC\u4EFB\u4F55\u76EE\u7684\uFF0C\u4F46\u6211\u5011\u5EFA\u8B70\u4F60\u65BC\u4F7F\u7528\u540C\u6642\u9644\u4EE5\u6211\u5011\u4E4B\u540D\u5B57\u4EE5\u53CA\u8A72\u8EDF\u4EF6\u4E4B\u9023\u7D50\u3002"]}),b(ue,{children:["Due to copyright, licensing and other legal restrictions, Rail Map Generator uses"," ",b(L,{color:e,href:"https://github.com/ButTaiwan/genyo-font",isExternal:!0,children:["GenYoMin provided by ButTaiwan ",p(T,{as:A})]}),", and Vegur instead of MTRSung and Myriad Pro respectively to display and generate MTR-style signage. You shall grant appropriate permit or license from the manufacturers before using those generated images for commercial purposes.",p("br",{}),"\u7531\u65BC\u8457\u4F5C\u6B0A\u53CA\u5176\u4ED6\u6CD5\u5F8B\u9650\u5236\uFF0C\u9435\u8DEF\u8DEF\u7DDA\u5716\u7522\u751F\u5668\u4F7F\u7528",b(L,{color:e,href:"https://github.com/ButTaiwan/genyo-font",isExternal:!0,children:["\u7531ButTaiwan\u63D0\u4F9B\u4E4B\u6E90\u6A23\u660E\u9AD4 ",p(T,{as:A})]}),"\uFF0C\u4EE5\u53CAVegur\uFF0C\u4EE5\u4EE3\u66FF\u6E2F\u9435\u6A23\u5F0F\u6A19\u8A8C\u724C\u6240\u4F7F\u7528\u4E4B\u5730\u9435\u5B8B\u53CAMyriad Pro\u3002\u5728\u7522\u751F\u4E4B\u5716\u50CF\u7528\u4F5C\u5546\u696D\u7528\u9014\u524D\uFF0C\u4F60\u61C9\u5411\u5B57\u578B\u751F\u7522\u5EE0\u5546\u53D6\u5F97\u9069\u7576\u4E4B\u8A31\u53EF\u8B49\u6216\u6388\u6B0A\u3002"]}),b(ue,{children:["The exported images in PNG or SVG format may be modified, published, or used for other purposes, under the conditions above.",p("br",{}),"\u8F38\u51FA\u4E4BPNG\u6216SVG\u7A2E\u985E\u4E4B\u5716\u50CF\u53EF\u57FA\u65BC\u4E0A\u8FF0\u689D\u6B3E\uFF0C\u7528\u65BC\u4FEE\u6539\u3001\u767C\u884C\u6216\u5176\u4ED6\u7528\u9014\u3002"]}),b(ue,{children:["All flag emojis shown on Windows platforms are designed by"," ",b(L,{color:e,href:"https://openmoji.org/",isExternal:!0,children:["OpenMoji ",p(T,{as:A})]})," ","\u2013 the open-source emoji and icon project. License:",b(L,{color:e,href:"https://creativecommons.org/licenses/by-sa/4.0/",isExternal:!0,children:["CC BY-SA 4.0 ",p(T,{as:A})]}),p("br",{}),"\u65BCWindows\u4F5C\u696D\u7CFB\u7D71\u4E0A\u986F\u793A\u4E4B\u65D7\u5E5FEmoji\u70BA",b(L,{color:e,href:"https://openmoji.org/",isExternal:!0,children:["OpenMoji ",p(T,{as:A})]}),"\u6240\u8A2D\u8A08\u3002\u8A31\u53EF\u8B49\uFF1A",b(L,{color:e,href:"https://creativecommons.org/licenses/by-sa/4.0/",isExternal:!0,children:["CC BY-SA 4.0 ",p(T,{as:A})]})]}),b(ue,{children:["We reserve the rights, without prior notice, to modify, add, or remove these terms. The Chinese translation is for reference only. In case of any discrepancy between the English version and the Chinese version, the English version shall prevail.",p("br",{}),"\u6211\u5011\u4FDD\u7559\u4FEE\u6539\u3001\u65B0\u589E\u6216\u79FB\u9664\u4E0A\u8FF0\u689D\u6B3E\u4E4B\u6B0A\u5229\uFF0C\u800C\u7121\u9700\u53E6\u884C\u901A\u77E5\u3002\u4E2D\u6587\u8B6F\u672C\u50C5\u4F9B\u53C3\u8003\uFF0C\u6587\u7FA9\u5982\u8207\u82F1\u6587\u6709\u6B67\u7570\uFF0C\u6982\u4EE5\u82F1\u6587\u672C\u70BA\u6E96\u3002"]})]})}),p(at,{children:p(Be,{colorScheme:"teal",onClick:()=>window.open("https://github.com/railmapgen/rmg","_blank"),children:a("Visit GitHub")})})]})]})}const Ma=["52PD","linchen1965"],za=["jealousyge","Jay20081229","clearng-kly","Dingdong2334","C1P918R","AnDanJuneUnderline","GrassRabbit1410","xiany114514","Andy1782010","Thomastzc","Tianxiu11111"];function _a(n){const{isOpen:t,onClose:r}=n,{t:a}=K();return b(Xe,{isOpen:t,onClose:r,size:"xl",scrollBehavior:"inside",children:[p(Ze,{}),b(et,{children:[p(tt,{children:a("Contributors")}),p(nt,{}),b(rt,{children:[p(ge,{as:"h6",size:"xs",my:1,children:a("Core contributors")}),b(_t,{children:[b(ke,{size:"lg",minW:"80%",onClick:()=>window.open("https://github.com/wongchito","_blank"),cursor:"pointer",children:[p(Pe,{src:"https://github.com/wongchito.png",size:"lg",my:2,ml:-1,mr:2}),b(le,{display:"block",children:[p(Y,{fontSize:"lg",fontWeight:"bold",mb:1,children:"Chito Wong"}),p(Y,{fontSize:"sm",children:"Project initiator"}),p(Y,{fontSize:"sm",children:"Author of MTR and Guangzhou Metro styles"})]})]}),b(ke,{size:"lg",minW:"80%",onClick:()=>window.open("https://github.com/thekingofcity","_blank"),cursor:"pointer",children:[p(Pe,{src:"https://github.com/thekingofcity.png",size:"lg",my:2,ml:-1,mr:2}),b(le,{display:"block",children:[p(Y,{fontSize:"lg",fontWeight:"bold",mb:1,children:"thekingofcity"}),p(Y,{fontSize:"sm",children:"Author of Shanghai Metro style"}),p(Y,{fontSize:"sm",children:"Desktop version (Electron) maintainer"})]})]})]}),p(ge,{as:"h6",size:"xs",my:1,children:a("Resource contributors")}),b(q,{wrap:"wrap",children:[Ma.map(e=>b(ke,{size:"lg",mb:1,mr:1,flex:"100%",onClick:()=>window.open(`https://github.com/railmapgen/rmg/issues?q=is:issue+author:${e}`,"_blank"),cursor:"pointer",children:[p(Pe,{src:`https://github.com/${e}.png`,size:"xs",ml:-1,mr:2}),p(le,{children:e}),p(le,{flexGrow:1}),p(le,{children:p(Y,{fontSize:"sm",children:a("Resource Administrator")})})]},e)),za.map(e=>b(ke,{size:"lg",mb:1,mr:1,onClick:()=>window.open(`https://github.com/railmapgen/rmg/issues?q=is:issue+author:${e}`,"_blank"),cursor:"pointer",children:[p(Pe,{src:`https://github.com/${e}.png`,size:"xs",ml:-1,mr:2}),p(le,{children:e})]},e))]})]}),p(at,{children:p(Be,{colorScheme:"primary",onClick:()=>window.open("https://github.com/railmapgen/rmg/wiki/How-to-add-color-palette-and-line-templates","_blank"),children:a("Contribution Wiki")})})]})]})}function Ha(){const{t:n}=K(),t=Ht("primary.500","primary.300"),[r,a]=k.exports.useState(!1),[e,i]=k.exports.useState(!1),o=I.getInstance(),s=o===Ve.GITHUB?Ve.GITLAB:Ve.GITHUB,u=ct[o],c=()=>{const f=fn(s,I.getEnv());window.open(f,"_blank"),I.event(Oe.SWITCH_MIRROR,{mirrorUrl:f})};return b(q,{direction:"column",children:[b(Y,{fontSize:"sm",textAlign:"center",width:"100%",children:[b(er,{i18nKey:"NavMenuFooter.currentMirror",mirror:u,children:["You're on ",{mirror:u}," mirror"]}),p("br",{}),n("Switch to")+" ",b(L,{color:t,onClick:c,children:[ct[s]," ",p(T,{as:A})]})]}),p(jn,{}),b(Fn,{justifyContent:"center",children:[p(Ne,{variant:"ghost",size:"sm","aria-label":n("Contributor"),title:n("Contributor"),icon:p(hr,{}),onClick:()=>a(!0)}),p(Ne,{variant:"ghost",size:"sm","aria-label":n("Terms and conditions"),title:n("Terms and conditions"),icon:p(cr,{}),onClick:()=>i(!0)})]}),p(_a,{isOpen:r,onClose:()=>a(!1)}),p(Ia,{isOpen:e,onClose:()=>i(!1)})]})}const $a={flexShrink:0,flexDirection:"column",overflow:"hidden",alignItems:"flex-end",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",boxShadow:"lg",zIndex:100,".show-menu &":{maxW:{base:"100%",sm:320},w:{base:"100%",sm:"unset"},visibility:"initial"},"& > div":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:320},"& > div:nth-of-type(1)":{flex:0,flexDirection:"row",alignItems:"center",minHeight:10,pl:12},"& > div:nth-of-type(2)":{flexDirection:"column",flex:1,overflowY:"auto"}}};function Va(){const{t:n}=K();return p(q,{as:"section",sx:$a,children:b(q,{children:[b(q,{children:[p(ge,{as:"h4",size:"md",children:n("RMG Home")}),p(Rn,{environment:I.getEnv(),version:I.getAppVersion()})]}),b(q,{children:[p(Or,{}),p(Ba,{})]}),p(Ha,{})]})})}function Wa(){const{t:n}=K(),t=qe(),r=Mt(e=>e.app.isShowMenu),a=()=>{t(zt()),I.event(Oe.TOGGLE_NAV_MENU,{})};return b(Nn,{className:r?"show-menu":"",children:[p(Ne,{variant:"ghost",size:"md","aria-label":n("Toggle menu"),title:n("Toggle menu"),icon:p(pr,{}),position:"absolute",zIndex:110,onClick:a}),b(An,{sx:{flexDirection:"row"},children:[p(Va,{}),p(sr,{})]})]})}export{Wa as default};
